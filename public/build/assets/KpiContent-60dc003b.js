import{r as m,M as Q,O as B,o as v,b as P,a as i,w as u,g as q,i as C,f as a,I as Y,A as g,c as p,N as de,G as M,P as Re,Q as Fe,W as Ie,T as Te,J as re,Z as De,$ as he,a0 as oe,H as b,C as f,e as y,K as be,F as se,z as Pe,L as Se,u as Oe,k as je,d as U,Y as E,B as ke,h as ie,q as Ve,n as pe,v as Ce}from"./app-8b546cee.js";import{b as Ke,c as ge,d as Ue,e as ye,f as fe,g as _e}from"./mdi-5e26928d.js";import{e as Ee}from"./vue-datepicker-e1c90acd.js";import{_ as xe}from"./SnackBar-81d2850d.js";const Be={class:"v-col-12"},Le={class:"v-col-12 v-col-md-6 py-0"},Ae={class:"v-col-12 v-col-md-6 py-0"},Me={class:"v-col-12 v-col-md-3 py-0 mb-2"},We={class:"v-col-12 v-col-md-3 py-0 mb-2"},ze={class:"v-col-12 v-col-md-3 py-0 mb-2"},Ne={class:"v-col-12 v-col-md-3 py-0 mb-2"},Ye={class:"v-col-12 py-0"},Ge={class:"v-col-12 pt-0"},He={class:"v-col-12 py-0"},qe={class:"v-col-12 py-0"},Je={class:"v-col-12 py-0"},Qe={class:"v-col-12 py-0 hidden hide",hidden:""},Ze={class:"v-col-12 py-0"},Xe={key:0,class:"v-col-12 d-flex justify-end"},et={key:0,class:"v-col-12 v-col-md-4 bg-grey-lighten-4"},tt=a("div",{class:"v-col-12 px-1"},g("Review"),-1),lt={class:"v-col-12 py-0 px-1 mt-3 mb-3 text-body-2"},at={class:"v-col-12 v-col-md-12 py-0 px-1"},it={class:"v-col-12 v-col-md-6 py-0 px-1"},st={class:"v-col-12 v-col-md-6 py-0 px-1 mb-3"},nt={class:"v-col-12 v-col-md-12 py-0 px-1"},ut={class:"v-col-12 py-0 px-1 mt-3 mb-3 text-body-2"},ot={class:"v-col-12 v-col-md-12 py-0 px-1"},rt={class:"v-col-md-4 v-col-12 py-0 px-1"},dt={class:"v-col-md-8 v-col-12 py-0 px-1"},vt={class:"v-col-12 py-5 px-1 text-center"},ct={class:"v-col-12 d-flex justify-end justify-center"},mt={__name:"KpiDialog",props:{createdKpiTitle:{type:Array,default:[]},kpiOptions:{type:Object,default:null},submitButton:{type:Boolean,default:!0},industryList:{type:Object,default:null},remainWeightage:{type:Number,default:70},measuresList:{type:Object,default:null},finalReview:{type:Boolean,default:!1}},emits:["savedResponse"],setup(I,{emit:G}){const w=I,N=m({}),V=m(["min","max"]),X=m([]),h=m(["5%","10%","15%","20%","25%","30%"]),W=m(null),e=m({}),s=m({measures:null}),T=m([]),j=Q(()=>T.value.filter(r=>!w.createdKpiTitle.includes(r.title))),ee=m([]),L=m(""),O=m(""),_=m(""),$=m(""),c=m(""),k=m(""),R=m(!1),D=m(!0),F=m([]),ne=()=>{R.value=!0,e.value.data=s.value,e.value.industryTitle=k.value,setTimeout(()=>{R.value=!1,e.value.dialog=!1,G("savedResponse",e.value)},1200),L.value=w.kpiOptions.data.industry},x=()=>{e.value.dialog=!1,(e.value.action=="edit"||e.value.action=="review")&&(L.value=w.kpiOptions.data.industry,O.value=w.kpiOptions.data.title)},ue=()=>{w.finalReview.isFinal?e.value.state="final":e.value.state="mid",ne()},te=r=>{$.value="",_.value="";let l=s.value.target/2;r.data.achievement_midyear&&(s.value.target_type=="max"?_.value=(l-r.data.achievement_midyear).toFixed(2):_.value=(r.data.achievement_midyear-l).toFixed(2),s.value.measures.includes("%")?($.value=s.value.target,_.value=s.value.target-r.data.achievement_midyear):$.value=s.value.target-r.data.achievement_midyear)},K=r=>{let l=r.data.target;r.data.revised_annual_target&&(l=r.data.revised_annual_target);let t=0;r.data.achievement_yearend&&(s.value.target_type=="max"?t=parseFloat(l/r.data.achievement_yearend).toFixed(2):t=parseFloat(r.data.achievement_yearend/l).toFixed(2),t>=100?c.value="Extremely Excellent":t>=90&&t<=99.99?c.value="Excellent":t>=70&&t<=89.99?c.value="Very Good":t>=50&&t<=69.99?c.value="Good":t>=35&&t<=49.99?c.value="Satisfactory":c.value="Poor")};B(()=>w.kpiOptions,r=>{R.value=!1,ee.value=w.industryList,s.value=Object.assign({},r.data),e.value=Object.assign({},r),te(r),K(r),e.value.action=="edit"||e.value.action=="review"||e.value.action=="readonly"?(L.value=r.data.industry,O.value=r.data.title,W.value=r.data.weightage,D.value=!1):(L.value=null,O.value=null,W.value=null,D.value=!0)});const S=m([r=>r&&!isNaN(r)]);B(()=>s.value.achievement_midyear,r=>{$.value="",_.value="";let l=s.value.target/2,t="";s.value.measures.includes("%")&&(t="%"),r&&(s.value.target_type=="max"?_.value=(l-r).toFixed(2)+t:_.value=(r-l).toFixed(2)+t,s.value.measures.includes("%")?($.value=s.value.target,_.value=s.value.target-r):$.value=s.value.target-r)}),B(()=>s.value.achievement_yearend,r=>{c.value="";let l=s.value.target;s.value.revised_annual_target&&(l=s.value.revised_annual_target);let t=0;r&&(s.value.target_type=="max"?t=(l/r*100).toFixed(2):t=(r/l*100).toFixed(2),t>=100?c.value="Extremely Excellent":t>=90&&t<=99.99?c.value="Excellent":t>=70&&t<=89.99?c.value="Very Good":t>=50&&t<=69.99?c.value="Good":t>=35&&t<=49.99?c.value="Satisfactory":c.value="Poor")}),B(()=>L.value,r=>{T.value=[],X.value=w.measuresList,e.value.action=="add"?(D.value=!0,s.value={},O.value=null,r&&(F.value.push("industry"),A(),k.value=r.title,ee.value.map(l=>{l.id==r.id&&(T.value=l.kpis)}))):(F.value.push("industry"),D.value=!1)}),B(()=>O.value,r=>{if(e.value.action=="add"){s.value={};let l=T.value.filter(t=>t.id==r);l&&l.length>0&&(s.value=l[0],D.value=!1,F.value.push("kpi"),A())}else F.value.push("kpi")}),B(()=>s.value.weightage,r=>{let l=!1;if(N.value={status:!1,type:"info",text:""},!isNaN(r)||r==null||r==null)l=!1;else if(e.value.action=="add")parseInt(r)>w.remainWeightage?(l=!1,N.value={status:!0,type:"error",text:"Weightage is over the limit!11"}):l=!0;else{let t=parseInt(w.remainWeightage)+parseInt(W.value)-parseInt(r);parseInt(t)<0?(l=!1,N.value={status:!0,type:"error",text:"Weightage is over the limit!"}):W.value>parseInt(r)||parseInt(t)>=0?l=!0:l=!1}l?(F.value.push("weightage"),A()):H("weightage")});const A=()=>{F.value=F.value.filter((r,l)=>F.value.indexOf(r)===l)},H=r=>{const l=F.value.indexOf(r);l>-1&&F.value.splice(l,1)};return B(()=>s.value.target,r=>{r?(F.value.push("target"),A()):H("target")}),B(()=>s.value.measures,r=>{r?(F.value.push("measures"),A()):H("measures")}),B(()=>s.value.target_type,r=>{F.value.push("target_type"),A(),r=="min"?s.value.evaluation_pattern='<span style="color:green">Positive Ranking = Exceeding the Target</span> <br/><span style="color:red">Negative Ranking = Falling short of the Target</span>':r=="max"?s.value.evaluation_pattern='<span style="color:green">Positive Ranking = Falling short of the Target</span> <br/><span style="color:red">Negative Ranking = Exceeding the Target</span>':(H("target_type"),s.value.evaluation_pattern="")}),(r,l)=>(v(),P(se,null,[i(be,{modelValue:e.value.dialog,"onUpdate:modelValue":l[23]||(l[23]=t=>e.value.dialog=t),width:"100%","max-width":`${e.value.is_review==!0?"1240":"900"} `,persistent:""},{default:u(()=>[i(q,{class:"rounded-lg"},{default:u(()=>[i(C,{class:"ma-0 pa-0"},{default:u(()=>[a("div",{class:Y(`v-col-12 ${e.value.is_review==!0?"v-col-md-8":""} px-4`)},[i(C,null,{default:u(()=>[a("div",Be,g(e.value.title),1),a("div",Le,[e.value.action=="add"?(v(),p(de,{key:0,modelValue:L.value,"onUpdate:modelValue":l[0]||(l[0]=t=>L.value=t),items:I.industryList,"item-title":"title","item-value":"title","hide-details":"","return-object":"",variant:"outlined",density:"compact",label:"Select Industry*"},null,8,["modelValue","items"])):(v(),p(M,{key:1,readonly:"",modelValue:L.value,"onUpdate:modelValue":l[1]||(l[1]=t=>L.value=t),"hide-details":"",variant:"outlined",density:"compact",label:"Select Industry*",class:"bg-grey-lighten-4 mb-3"},null,8,["modelValue"]))]),a("div",Ae,[e.value.action=="add"?(v(),p(de,{key:0,modelValue:O.value,"onUpdate:modelValue":l[2]||(l[2]=t=>O.value=t),items:j.value,"item-title":"title","item-value":"id",variant:"outlined",density:"compact",label:"Select KPI*"},{selection:u(({props:t,item:z})=>[a("span",Re(Fe(t)),g((z==null?void 0:z.title.substring(0,35))+"..."),17)]),item:u(({props:t,item:z})=>{var le;return[i(Ie,Te({style:`${z.raw.profile_ecode?"background-color:#2196F3; color:#fff;":""} `},t,{title:(le=z==null?void 0:z.raw)==null?void 0:le.title}),null,16,["style","title"])]}),_:1},8,["modelValue","items"])):(v(),p(M,{key:1,readonly:"",modelValue:O.value,"onUpdate:modelValue":l[3]||(l[3]=t=>O.value=t),"hide-details":"",variant:"outlined",density:"compact",label:"Select KPI*",class:"bg-grey-lighten-4 mb-3"},null,8,["modelValue"]))]),a("div",Me,[!D.value&&!e.value.is_review?(v(),p(re,{key:0,modelValue:s.value.target_type,"onUpdate:modelValue":l[4]||(l[4]=t=>s.value.target_type=t),items:V.value,label:"Target Type*",variant:"outlined",density:"compact"},null,8,["modelValue","items"])):(v(),p(M,{key:1,readonly:"",modelValue:s.value.target_type,"onUpdate:modelValue":l[5]||(l[5]=t=>s.value.target_type=t),"hide-details":"",variant:"outlined",density:"compact",label:"Target Type*",class:"bg-grey-lighten-4 mb-3"},null,8,["modelValue"]))]),a("div",We,[i(M,{readonly:D.value||e.value.is_review,rules:S.value,type:"number",class:Y(`${D.value||e.value.is_review?"bg-grey-lighten-4 mb-3":""}`),"hide-details":"",modelValue:s.value.target,"onUpdate:modelValue":l[6]||(l[6]=t=>s.value.target=t),label:"Target*",variant:"outlined",density:"compact","persistent-hint":""},null,8,["readonly","rules","class","modelValue"])]),a("div",ze,[!D.value&&!e.value.is_review?(v(),p(re,{key:0,modelValue:s.value.measures,"onUpdate:modelValue":l[7]||(l[7]=t=>s.value.measures=t),items:X.value,label:"Measures*",variant:"outlined",density:"compact"},null,8,["modelValue","items"])):(v(),p(M,{key:1,readonly:"",modelValue:s.value.measures,"onUpdate:modelValue":l[8]||(l[8]=t=>s.value.measures=t),"hide-details":"",variant:"outlined",density:"compact",label:"Measures*",class:"bg-grey-lighten-4 mb-3"},null,8,["modelValue"]))]),a("div",Ne,[!D.value&&!e.value.is_review?(v(),p(re,{key:0,modelValue:s.value.weightage,"onUpdate:modelValue":l[9]||(l[9]=t=>s.value.weightage=t),items:h.value,label:"KPI's Weightage (%)*",variant:"outlined",density:"compact"},null,8,["modelValue","items"])):(v(),p(M,{key:1,readonly:"",modelValue:s.value.weightage,"onUpdate:modelValue":l[10]||(l[10]=t=>s.value.weightage=t),"hide-details":"",variant:"outlined",density:"compact",label:"KPI's Weightage (%)*",class:"bg-grey-lighten-4 mb-3"},null,8,["modelValue"]))]),a("div",Ye,[i(C,{class:"mx-0 mb-3"},{default:u(()=>[i(De,{class:"pa-3 bg-grey-lighten-4",style:{border:"1px solid #b1b1b1","border-radius":"5px","min-height":"70px"},innerHTML:s.value.evaluation_pattern},null,8,["innerHTML"])]),_:1})]),a("div",Ge,[i(he,{class:"mx-auto"})]),a("div",He,[i(oe,{"auto-grow":"",modelValue:s.value.definition,"onUpdate:modelValue":l[11]||(l[11]=t=>s.value.definition=t),readonly:D.value||e.value.action=="edit"||e.value.is_review,label:"KPI Definition*",variant:"outlined",rows:"2"},null,8,["modelValue","readonly"])]),a("div",qe,[i(oe,{"auto-grow":"",modelValue:s.value.formula,"onUpdate:modelValue":l[12]||(l[12]=t=>s.value.formula=t),class:"bg-grey-lighten-4 mb-4","hide-details":"",readonly:"",label:"Calculation Formula*",variant:"outlined",rows:"2"},null,8,["modelValue"])]),a("div",Je,[i(oe,{"auto-grow":"",modelValue:s.value.subordinate_measures,"onUpdate:modelValue":l[13]||(l[13]=t=>s.value.subordinate_measures=t),class:"bg-grey-lighten-4 mb-4","hide-details":"",readonly:"",label:"Subordinate Measures*",variant:"outlined",rows:"2"},null,8,["modelValue"])]),a("div",Qe,[i(oe,{"auto-grow":"",modelValue:s.value.calculation_example,"onUpdate:modelValue":l[14]||(l[14]=t=>s.value.calculation_example=t),class:"bg-grey-lighten-4 mb-4","hide-details":"",readonly:"",label:"KPI Calculation Example*",variant:"outlined",rows:"2"},null,8,["modelValue"])]),a("div",Ze,[i(he,{class:"mx-auto"})]),e.value.is_review?y("",!0):(v(),P("div",Xe,[i(b,{color:"primary",variant:"text",onClick:x},{default:u(()=>[f("Cancel")]),_:1}),i(b,{loading:R.value,disabled:F.value.length<6,color:"secondary",class:"ml-2 px-8",onClick:ne},{default:u(()=>[f("save")]),_:1},8,["loading","disabled"])]))]),_:1})],2),e.value.is_review?(v(),P("div",et,[I.finalReview.isFinal?y("",!0):(v(),p(C,{key:0,class:"px-3"},{default:u(()=>[tt,a("div",lt,g(e.value.is_regular?"Mid-year Achievement":"First Review Achievement"),1),a("div",at,[i(M,{type:"number",readonly:I.finalReview.isFinal||e.value.action=="readonly","hide-details":"",class:Y(`${I.finalReview.isFinal||e.value.action=="readonly"?"bg-grey-lighten-2":""} mb-4`),modelValue:s.value.achievement_midyear,"onUpdate:modelValue":l[15]||(l[15]=t=>s.value.achievement_midyear=t),label:"Achievement*",variant:"outlined",density:"compact","persistent-hint":""},null,8,["readonly","class","modelValue"])]),a("div",it,[i(M,{readonly:"",modelValue:_.value,"onUpdate:modelValue":l[16]||(l[16]=t=>_.value=t),label:"Target Variation",class:Y(`${_.value&&parseFloat(_.value)>=0?"text-success":"text-red"} bg-grey-lighten-2`),"hide-details":"",variant:"outlined",density:"compact","persistent-hint":""},null,8,["modelValue","class"])]),a("div",st,[i(M,{readonly:"",modelValue:$.value,"onUpdate:modelValue":l[17]||(l[17]=t=>$.value=t),label:"Remainder Annual Target",class:"bg-grey-lighten-2","hide-details":"",variant:"outlined",density:"compact","persistent-hint":""},null,8,["modelValue"])]),a("div",nt,[i(M,{type:"number",readonly:I.finalReview.isFinal||e.value.action=="readonly","hide-details":"",class:Y(`${I.finalReview.isFinal||e.value.action=="readonly"?"bg-grey-lighten-2":""} mb-4`),modelValue:s.value.revised_annual_target,"onUpdate:modelValue":l[18]||(l[18]=t=>s.value.revised_annual_target=t),label:`${e.value.is_regular?"Revised Annual Target":"Revised Probation Target"}`,variant:"outlined",density:"compact","persistent-hint":""},null,8,["readonly","class","modelValue","label"])])]),_:1})),I.finalReview.isFinal||e.value.action=="readonly"?(v(),p(C,{key:1,class:"px-3"},{default:u(()=>[a("div",ut,g(e.value.is_regular?"Year-End Achievement":"Final Review Achievement"),1),a("div",ot,[e.value.action!="readonly"?(v(),p(M,{key:0,type:"number",readonly:"","hide-details":"",class:"bg-grey-lighten-2 mb-4",modelValue:s.value.revised_annual_target,"onUpdate:modelValue":l[19]||(l[19]=t=>s.value.revised_annual_target=t),label:`${e.value.is_regular?"Revised Annual Target":"Revised Probation Target"}`,variant:"outlined",density:"compact","persistent-hint":""},null,8,["modelValue","label"])):y("",!0)]),a("div",rt,[e.value.is_review?(v(),p(M,{key:0,readonly:"",modelValue:s.value.target_type,"onUpdate:modelValue":l[20]||(l[20]=t=>s.value.target_type=t),"hide-details":"",variant:"outlined",density:"compact",label:"Target Type*",class:"bg-grey-lighten-2 mb-3"},null,8,["modelValue"])):y("",!0)]),a("div",dt,[i(M,{modelValue:s.value.achievement_yearend,"onUpdate:modelValue":l[21]||(l[21]=t=>s.value.achievement_yearend=t),readonly:e.value.action=="readonly","hide-details":"",class:Y(`${e.value.action=="readonly"?"bg-grey-lighten-2":""} mb-4`),label:"Total Achievement*",variant:"outlined",density:"compact","persistent-hint":""},null,8,["modelValue","readonly","class"])]),a("div",vt,[a("h3",{class:Y(`${c.value&&c.value=="Poor"?"text-red":"text-success"}`)},g(c.value),3)])]),_:1})):y("",!0),i(C,null,{default:u(()=>[a("div",ct,[i(b,{class:"bg-grey-lighten-2 text-primary",variant:"text",onClick:l[22]||(l[22]=t=>e.value.dialog=!1)},{default:u(()=>[f("Cancel")]),_:1}),e.value.action!="readonly"&&w.submitButton&&I.finalReview.saveBtn?(v(),p(b,{key:0,loading:R.value,color:"secondary",class:"ml-2",onClick:ue},{default:u(()=>[f("Save")]),_:1},8,["loading"])):y("",!0)])]),_:1})])):y("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue","max-width"]),i(xe,{options:N.value},null,8,["options"])],64))}},pt={class:"v-col-12"},gt={class:"v-col-12 py-0"},yt={class:"v-col-12 py-0"},ft={class:"v-col-12 py-0"},_t={key:0,class:"v-col-12 d-flex justify-end"},ht={key:0,class:"v-col-12 v-col-md-4 bg-grey-lighten-4"},bt={class:"v-col-12 py-0 px-1 mt-3 mb-3 text-body-2"},xt={class:"v-col-12 py-0 px-1"},wt={class:"v-col-12 py-5 mt-5"},kt={class:"v-col-12 d-flex justify-end justify-center"},Vt={__name:"EcdDialog",props:{createdKpiTitle:{type:Array,default:[]},ecdOptions:{type:Object,default:null},ecdList:{type:Object,default:null},remainWeightage:{type:Number,default:30},submitButton:{type:Boolean,default:!0},finalReview:{type:Boolean,default:!1}},emits:["savedResponse"],setup(I,{emit:G}){const w=I,N=m(null),V=m({}),X=m([]),h=m({}),W=m(null),e=m(null),s=m(!1),T=m([{title:"5 - Skill level improved drastically & widely noticed",value:5},{title:"4 - Improvement is noticed",value:4},{title:"3 - Marginal improvement in skills",value:3},{title:"2 - Very slight Improvement",value:2},{title:"1 - No Improvement at all",value:1},{title:"0 - Didn`t attend the training",value:0}]),j=m(["5%","10%","15%","20%"]),ee=()=>{s.value=!0,V.value.weightage=e.value,V.value.ecd_type=w.ecdOptions.ecdType,h.value.data=V.value,setTimeout(()=>{s.value=!1,h.value.dialog=!1,G("savedResponse",h.value)},1200)},L=c=>c>5?"Skill level improved drastically & widely noticed":c>=4?"Improvement is noticed":c>=3?"Marginal improvement in skills":c>=2?"Very slight Improvement":c>=1?"No Improvement at all":"Didn`t attend the training";B(()=>w.ecdOptions,c=>{V.value=Object.assign({},c.data),X.value=w.ecdList.filter(k=>k.ecd_type==c.ecdType||k.ecd_type=="both"),h.value=Object.assign({},c),h.value.action=="edit"||h.value.action=="review"||h.value.action=="readonly"?(N.value=c.data.weightage,W.value=c.data.title,e.value=c.data.weightage):(N.value=null,W.value=null,e.value=null)});const O=()=>{w.finalReview.isFinal?h.value.state="final":h.value.state="mid",ee()};B(()=>W.value,c=>{h.value.action=="add"&&(V.value={},V.value=c)});const _=m({}),$=m(!1);return B(()=>e.value,c=>{if(_.value={status:!1,type:"info",text:""},!isNaN(c)||c==null||c==null)$.value=!1;else if(h.value.action=="add")parseInt(c)>w.remainWeightage?($.value=!1,_.value={status:!0,type:"error",text:"Weightage is over the limit!"}):$.value=!0;else{let k=parseInt(w.remainWeightage)+parseInt(N.value)-parseInt(c);parseInt(k)<0?($.value=!1,_.value={status:!0,type:"error",text:"Weightage is over the limit!"}):N.value>parseInt(c)||parseInt(k)>=0?$.value=!0:$.value=!1}}),(c,k)=>(v(),P(se,null,[i(be,{modelValue:h.value.dialog,"onUpdate:modelValue":k[5]||(k[5]=R=>h.value.dialog=R),width:"100%","max-width":`${I.ecdOptions.is_review==!0?"1240":"700"} `,persistent:""},{default:u(()=>[i(q,{class:"rounded-lg",minHeight:"300"},{default:u(()=>[i(C,{class:"ma-0 pa-0"},{default:u(()=>[a("div",{class:Y(`v-col-12 ${I.ecdOptions.is_review==!0?"v-col-md-8":""} px-4`)},[i(C,null,{default:u(()=>[a("div",pt,g(h.value.title),1),a("div",gt,[i(de,{modelValue:W.value,"onUpdate:modelValue":k[0]||(k[0]=R=>W.value=R),items:c.updatedKpiList,"item-title":"title","item-value":"id","return-object":"",variant:"outlined",density:"compact",label:"Select *"},{item:u(({props:R,item:D})=>{var F;return[i(Ie,Te({style:`${D.raw.profile_ecode?"background-color:#2196F3; color:#fff;":""} `},R,{title:(F=D==null?void 0:D.raw)==null?void 0:F.title}),null,16,["style","title"])]}),_:1},8,["modelValue","items"])]),a("div",yt,[i(re,{modelValue:e.value,"onUpdate:modelValue":k[1]||(k[1]=R=>e.value=R),items:j.value,label:"Development Weightage (%)*",variant:"outlined",density:"compact"},null,8,["modelValue","items"])]),a("div",ft,[i(he,{class:"mx-auto"})]),h.value.is_review?y("",!0):(v(),P("div",_t,[i(b,{color:"primary",variant:"text",onClick:k[2]||(k[2]=R=>h.value.dialog=!1)},{default:u(()=>[f("Cancel")]),_:1}),i(b,{disabled:!$.value,loading:s.value,color:"secondary",class:"ml-2 px-8",onClick:ee},{default:u(()=>[f("save")]),_:1},8,["disabled","loading"])]))]),_:1})],2),h.value.is_review?(v(),P("div",ht,[I.finalReview.isFinal?(v(),p(C,{key:0,class:"px-3"},{default:u(()=>[a("div",bt,g(h.value.is_regular?"Year-End Achievement":"Final Review Achievement"),1),a("div",xt,[i(de,{modelValue:V.value.achievement_yearend,"onUpdate:modelValue":k[3]||(k[3]=R=>V.value.achievement_yearend=R),items:T.value,"item-title":"title","item-value":"value",variant:"outlined",density:"compact",label:"Select *"},null,8,["modelValue","items"])])]),_:1})):(v(),p(C,{key:1},{default:u(()=>[a("div",wt,[a("h3",{class:Y(`${V.value.achievement_yearend>=1?"text-success":"text-error"} text-center`)},g(V.value.achievement_yearend?L(V.value.achievement_yearend):""),3)])]),_:1})),i(C,{class:"pb-4"},{default:u(()=>[a("div",kt,[i(b,{class:"bg-grey-lighten-2 text-primary",variant:"text",onClick:k[4]||(k[4]=R=>h.value.dialog=!1)},{default:u(()=>[f("Cancel")]),_:1}),h.value.action!="readonly"&&w.submitButton&&I.finalReview.saveBtn?(v(),p(b,{key:0,loading:s.value,color:"secondary",class:"ml-2",onClick:O},{default:u(()=>[f("Submit")]),_:1},8,["loading"])):y("",!0)])]),_:1})])):y("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue","max-width"]),i(xe,{options:_.value},null,8,["options"])],64))}};const Ct={class:"v-col-12 v-col-md-2"},It={class:"v-col-12 v-col-md-2"},Tt={class:"v-col-12"},$t={class:"d-flex align-center px-3"},Rt={key:1,class:"text-uppercase text-primary"},Ft={key:2,class:"text-uppercase text-center",style:{display:"block !important",width:"100%"}},Dt={key:3,class:"text-uppercase text-center"},Pt={key:4,class:"ml-auto text-body-1"},St={class:"v-col-12 pb-0"},Ot={class:"v-col-12"},jt={class:"text-right",style:{position:"absolute",top:"4px",right:"4px"}},Kt={class:"v-col-12 pb-0 d-flex justify-space-between"},Ut=a("div",{class:"text-grey text-caption"},"KPI",-1),Et={class:"text-primary text-body-1"},Bt={class:"v-col-3"},Lt=a("div",{class:"text-grey text-caption"},"Industry",-1),At={class:"text-primary text-body-1"},Mt={class:"v-col-3"},Wt={class:"text-grey text-caption"},zt={class:"text-primary text-body-1"},Nt={class:"v-col-3"},Yt=a("div",{class:"text-grey text-caption"},"Measure",-1),Gt={class:"text-primary text-body-1"},Ht={class:"v-col-3"},qt={class:"text-grey text-caption"},Jt={class:"text-primary text-body-1"},Qt={key:1,class:"v-col-12 pb-0 text-center"},Zt={class:"v-col-md-6 v-col-12 pb-0"},Xt={key:1},el={class:"v-col-md-6 v-col-12 pb-0"},tl={key:1},ll={class:"v-col-md-6 v-col-12 pb-2"},al={class:"text-right",style:{position:"absolute",top:"4px",right:"4px"}},il={class:"v-col-12 pb-0 d-flex justify-space-between"},sl=a("div",{class:"text-grey text-caption"},"Training",-1),nl={class:"text-primary text-body-1"},ul={class:"v-col-3"},ol={class:"text-grey text-caption"},rl={class:"text-primary text-body-1"},dl={class:"v-col-3"},vl=a("div",{class:"text-grey text-caption"},"Type",-1),cl={class:"text-primary text-body-1"},ml={class:"v-col-md-6 v-col-12 pb-0"},pl={class:"text-right",style:{position:"absolute",top:"4px",right:"4px"}},gl={class:"v-col-12 pb-0 d-flex justify-space-between"},yl=a("div",{class:"text-grey text-caption"},"Training",-1),fl={class:"text-primary text-body-1"},_l={class:"v-col-3"},hl={class:"text-grey text-caption"},bl={class:"text-primary text-body-1"},xl={class:"v-col-3"},wl=a("div",{class:"text-grey text-caption"},"Type",-1),kl={class:"text-primary text-body-1"},Vl={class:"pb-3 text-grey"},Cl={class:"text-primary"},Il={class:"d-flex justify-end mt-5"},Dl={__name:"KpiContent",props:{selectedEmployee:{type:Object,default:null},industryList:{type:Object,default:null},ecdList:{type:Object,default:null},submitButton:{type:Boolean,default:!0},measuresList:{type:Object,default:null}},emits:["yearchange","savedResponse","errorcheck"],setup(I,{emit:G}){const w=I,N=Pe(),V=Se(),X=Oe(),h=m({}),W=je(),e=m(w.selectedEmployee),s=Q(()=>{let n=[];return e.value&&e.value.reviews&&e.value.reviews[0]&&e.value.reviews[0].key_review.length>0&&(n=e.value.reviews[0].key_review.map(o=>o.title)),n}),T=Q(()=>!e.value||e.value&&(!e.value.reviews||e.value.reviews.length==0)?[]:e.value.reviews[0].key_review.filter(n=>n.type=="kpi")),j=Q(()=>!e.value||e.value&&(!e.value.reviews||e.value.reviews.length==0)?[]:e.value.reviews[0].key_review.filter(n=>n.type=="ecd")),ee=Q(()=>!e.value||e.value&&(!e.value.reviews||e.value.reviews.length==0)?[]:e.value.reviews[0].key_review.filter(n=>n.type=="ecd"&&n.ecd_type=="tech")),L=Q(()=>!e.value||e.value&&(!e.value.reviews||e.value.reviews.length==0)?[]:e.value.reviews[0].key_review.filter(n=>n.type=="ecd"&&n.ecd_type=="soft")),O=m(!1);B(()=>w.selectedEmployee,n=>{O.value=!0,n.length>0?e.value=Object.assign({},n[0]):e.value=Object.assign({},n),V.name=="SingleTeamMember"&&k()});const _=Q(()=>W.filteredSetting(e.value.company_id)),$=m(!1),c=m(!1),k=()=>{if(e.value&&e.value.reviews&&e.value.reviews.length>0&&(e.value.reviews[0].state=="midyear"||e.value.reviews[0].state=="first_review")){let n=e.value.reviews[0].key_review.filter(d=>d.type=="kpi"&&d.achievement_midyear==null),o=!1;n&&n.length>0&&(o=!0),G("errorcheck",{hasError:o})}else if(e.value&&e.value.reviews&&e.value.reviews.length>0&&(e.value.reviews[0].state=="yearend"||e.value.reviews[0].state=="final_review")){let n=e.value.reviews[0].key_review.filter(d=>d.achievement_yearend==null),o=!1;n&&n.length>0&&(o=!0),G("errorcheck",{hasError:o})}else D().then(()=>{G("errorcheck",{hasError:c.value})})},R=m(""),D=async()=>{let n="",o=!1;x.value=="kpi"&&T.value.length<4&&J("kpi")==0?(n="Invalid: Minimum 4 KPI's needed, kindly update the weightage.",o=!0):(n="Invalid: Should have 1 each, technical and soft skill, kindly update the weightage.",o=F(o)),$.value=o,o&&(R.value=n),ne()},F=n=>{if(J("ecd")==0&&j.value&&j.value.length>0&&j.value.length<2)n=!0;else if(j.value.length>1){let o=[];j.value.map((d,ae)=>{o.push(d.ecd_type)}),o=[...new Set(o)],J("ecd")==0&&o.length<2&&(n=!0)}return n},ne=async()=>{let n=!1;T.value.length<4&&J("kpi")==0&&(n=!0),n=F(n),c.value=n},x=m("kpi"),ue=n=>{x.value=n,V.name=="SingleTeamMember"&&D()},te=m(new Date),K=Q(()=>{if(e.value&&e.value.reviews&&e.value.reviews.length>0)return!!(X.authRole.includes("manager")&&V.name=="SingleTeamMember"&&e.value.reviews[0].state=="setting"&&(e.value.reviews[0].status=="open"||e.value.reviews[0].status=="inprogress"||e.value.reviews[0].status=="inreview"));if(V.name=="SingleTeamMember"&&_.value&&_.value.state=="setting"&&(_.value.status=="open"||_.value.status=="inprogress"))return!0;if(e.value&&e.value.is_regular==0&&V.name=="SingleTeamMember"){let n=new Date(e.value.doj);if(n.setDate(n.getDate()+parseInt(_.value.probation_kpi_setting)),n>=te.value)return!0}return!1}),S=m({saveBtn:!1,isFinal:!1}),A=Q(()=>{if(S.value={saveBtn:!1,isFinal:!1},V.name=="SingleTeamMember"&&e.value.reviews.length>0&&e.value.reviews[0].state=="yearend"&&(e.value.reviews[0].status=="submitted"||e.value.reviews[0].status=="closed"||e.value.reviews[0].status=="locked"))return S.value={saveBtn:!1,isFinal:!1},!1;if(V.name=="SingleTeamMember"&&e.value.reviews.length>0&&e.value.reviews[0].state=="yearend"&&(e.value.reviews[0].status=="open"||e.value.reviews[0].status=="inprogress"))return S.value={saveBtn:!0,isFinal:!0},!0;if(e.value&&e.value.is_regular==0&&V.name=="SingleTeamMember"){if(S.value={saveBtn:!1,isFinal:!1},_.value){let n=new Date(e.value.doj),o=new Date(e.value.doj);if(n.setDate(n.getDate()+parseInt(_.value.probation_first_review_start)),o.setDate(o.getDate()+parseInt(_.value.probation_first_review_end)),e.value.reviews[0].state=="first_review"&&(e.value.reviews[0].status=="open"||e.value.reviews[0].status=="inprogress"))return S.value={saveBtn:!0,isFinal:!1},!0;if(n<=te.value&&o>=te.value)return S.value={saveBtn:!0,isFinal:!1},!0;let d=new Date(e.value.doj),ae=new Date(e.value.doj);if(d.setDate(d.getDate()+parseInt(_.value.probation_final_review_start)),ae.setDate(ae.getDate()+parseInt(_.value.probation_final_review_end)),e.value.reviews[0].state=="final_review"&&(e.value.reviews[0].status=="open"||e.value.reviews[0].status=="inprogress"))return S.value={saveBtn:!0,isFinal:!0},!0;if(d<=te.value&&ae>=te.value)return S.value={saveBtn:!0,isFinal:!0},!0}}else if(e.value&&e.value.reviews&&e.value.reviews.length>0)return e.value.reviews[0].status=="open"||e.value.reviews[0].status=="inprogress"?S.value.saveBtn=!0:e.value.reviews[0].state=="yearend"&&(S.value.isFinal=!0),!!(X.authRole.includes("manager")&&V.name=="SingleTeamMember"&&(e.value.reviews[0].state=="midyear"||e.value.reviews[0].state=="yearend"));return!1}),H=m(new Date().getFullYear()),r=()=>{const n=N.resolve({path:"/print/kpi/"+H.value+"/"+e.value.username,params:{year:H.value},query:{print:1}});window.open(n.href,"_blank")};B(H,async(n,o)=>{G("yearchange",n)});const l=m({title:"",dialog:!1,data:{},type:"",action:"",is_review:!1}),t=m({title:"",dialog:!1,data:{},type:"",action:"",is_review:!1}),z=async(n,o)=>{if(J(x.value)<=0)h.value={status:!0,type:"error",text:"Denied: You've reached the weightage limit."};else if(n=="kpi")T.value.length>5?h.value={status:!0,type:"error",text:"Denied: Max of 6 KPI only. Minimum is 4 KPI"}:l.value={title:"Add KPI ",data:{},dialog:!0,type:n,action:"add",is_review:!1};else{let d="Identify Technical Skill Development";o=="soft"&&(d="Identify Behavioral Program"),t.value={...t.value,title:d,data:{},dialog:!0,type:n,ecdType:o,action:"add",is_review:!1}}},le=async(n,o="kpi",d)=>{o=="kpi"?l.value={...l.value,title:"Edit KPI ",data:Object.assign({},n),dialog:!0,type:o,action:"edit",is_review:!1}:t.value={...t.value,title:"Edit ECD ",data:Object.assign({},n),dialog:!0,type:o,action:"edit",ecdType:d,is_review:!1}},ve=async(n,o="kpi")=>{o=="kpi"&&(l.value={...l.value,title:o.toUpperCase(),data:Object.assign({},n),dialog:!0,type:o,action:"readonly",is_review:!0,state:e.value.reviews[0].state,is_regular:e.value.is_regular}),o=="ecd"&&(t.value={...t.value,title:o.toUpperCase(),data:Object.assign({},n),dialog:!0,type:o,action:"readonly",is_review:!0,is_regular:e.value.is_regular})},ce=async(n,o="kpi")=>{o=="kpi"&&(l.value={...l.value,title:o.toUpperCase(),data:Object.assign({},n),dialog:!0,type:o,action:"review",is_review:!0,state:e.value.reviews[0].state,is_regular:e.value.is_regular}),o=="ecd"&&(t.value={...t.value,title:o.toUpperCase(),data:Object.assign({},n),dialog:!0,type:o,action:"review",is_review:!0,is_regular:e.value.is_regular})},we=n=>{let o={reviewID:e.value.reviews[0].id,data:n,industryTitle:n.industryTitle,state:n.state};k(),G("savedResponse",o)},Z=m({data:{},dialog:!1,loading:!1}),me=async n=>{Z.value={...Z.value,data:Object.assign({},n),dialog:!0}},$e=async()=>{let n=Z.value.data;Z.value.dialog=!1,G("removeKPI",n)},J=n=>{let o=70;return e.value&&e.value.is_regular==0&&(o=100),n=="ecd"?(o=30,j.value&&j.value.length>0&&j.value.map((d,ae)=>{o-=d.weightage})):T.value&&T.value.length>0&&T.value.map((d,ae)=>{o-=d.weightage}),o};return(n,o)=>(v(),p(C,null,{default:u(()=>[a("div",Ct,[i(U(Ee),{modelValue:H.value,"onUpdate:modelValue":o[0]||(o[0]=d=>H.value=d),"year-picker":"",class:"pms-date-picker"},null,8,["modelValue"])]),a("div",It,[e.value&&e.value.reviews&&e.value.reviews.length>0&&e.value.reviews[0].key_review.length>0?(v(),p(b,{key:0,onClick:r,color:"white",class:"text-capitalize text-md-caption text-lg-body-2"},{default:u(()=>[f("View/Print"),i(E,{icon:U(Ke),class:"ml-1"},null,8,["icon"])]),_:1})):y("",!0)]),a("div",Tt,[a("div",$t,[i(q,{onClick:o[1]||(o[1]=()=>ue("kpi")),flat:"",class:Y(`
          ${x.value=="kpi"?"":"bg-grey-darken-3 text-white"}
          d-flex align-center justify-center px-3 text-center pms-tab`)},{default:u(()=>[f(" KPI "+g(T.value?"("+T.value.length+")":"(0)"),1)]),_:1},8,["class"]),e.value&&e.value.is_regular?(v(),p(q,{key:0,onClick:o[2]||(o[2]=()=>ue("ecd")),flat:"",class:Y(`${x.value=="ecd"?"":"bg-grey-darken-3 text-white"} d-flex align-center justify-center px-3 text-caption text-center pms-tab`)},{default:u(()=>[f(" Employee Capability Development "+g("("+j.value.length+")"),1)]),_:1},8,["class"])):y("",!0)]),i(q,{flat:""},{default:u(()=>[i(ke,{class:"px-5 py-5 d-flex align-center"},{default:u(()=>[K.value&&x.value=="kpi"?(v(),p(b,{key:0,onClick:o[3]||(o[3]=()=>z(x.value)),density:"compact",size:"35",class:"rounded-xl elevation-2 mr-2"},{default:u(()=>[i(E,{size:"small",icon:U(ge)},null,8,["icon"])]),_:1})):y("",!0),x.value=="kpi"&&T.value&&T.value.length>0||x.value=="ecd"&&j.value&&j.value.length>0?(v(),P("div",Rt,g(x.value=="ecd"?"Employee Capability Development":x.value)+" List ",1)):K.value?(v(),P("div",Dt,g(x.value=="ecd"?"Employee Capability Development":e.value.is_regular?x.value:"Probation KPI")+" List ",1)):(v(),P("div",Ft,g(x.value)+" not set ",1)),K.value&&J(x.value)>0?(v(),P("div",Pt,"Remaining "+g(x.value.toUpperCase())+" weightage: "+g(J(x.value))+"%",1)):y("",!0)]),_:1}),i(ie,{class:"px-5 pb-10"},{default:u(()=>[$.value?(v(),p(C,{key:0,class:"mb-2"},{default:u(()=>[a("div",St,[i(q,{class:"rounded-lg",style:{border:"2px solid red"}},{default:u(()=>[i(ie,null,{default:u(()=>[i(C,null,{default:u(()=>[a("div",Ot,[i(E,{size:"large",color:"red",class:"mr-1",icon:U(Ue)},null,8,["icon"]),f(" "+g(R.value),1)])]),_:1})]),_:1})]),_:1})])]),_:1})):y("",!0),Ve(i(C,{class:"mt-3"},{default:u(()=>[T.value&&T.value.length>0?(v(!0),P(se,{key:0},pe(T.value,d=>(v(),P("div",{class:"v-col-12 pb-0",key:d.id},[i(q,{class:"rounded-lg content-card"},{default:u(()=>[i(ie,null,{default:u(()=>[a("div",jt,[!A.value&&O.value?(v(),p(b,{key:0,onClick:()=>ve(d,"kpi"),density:"compact",color:"primary",class:"rounded-xl elevation-2 ml-1 text-caption"},{default:u(()=>[f(" View"),i(E,{size:"small",icon:U(ye),class:"ml-1"},null,8,["icon"])]),_:2},1032,["onClick"])):y("",!0),A.value?(v(),p(b,{key:1,color:"secondary",class:"rounded-xl px-5",size:"small",onClick:()=>ce(d,"kpi")},{default:u(()=>[f(g(S.value.isFinal&&d.achievement_yearend||!S.value.isFinal&&d.achievement_midyear?"Reviewed":"Review"),1)]),_:2},1032,["onClick"])):y("",!0),K.value?(v(),p(b,{key:2,onClick:()=>le(d,"kpi"),density:"compact",color:"teal",class:"rounded-xl elevation-2 ml-1 text-caption"},{default:u(()=>[f("Edit"),i(E,{size:"small",class:"ml-1",icon:U(fe)},null,8,["icon"])]),_:2},1032,["onClick"])):y("",!0),K.value?(v(),p(b,{key:3,onClick:()=>me(d),density:"compact",color:"error",class:"rounded-xl elevation-2 ml-1 text-caption"},{default:u(()=>[f("Delete"),i(E,{size:"small",class:"ml-1",icon:U(_e)},null,8,["icon"])]),_:2},1032,["onClick"])):y("",!0)]),i(C,null,{default:u(()=>[a("div",Kt,[a("div",null,[Ut,a("div",Et,g(d.title),1)])]),a("div",Bt,[Lt,a("div",At,g(d.industry),1)]),a("div",Mt,[a("div",Wt,"Target ("+g(d.target_type)+")",1),a("div",zt,g(d.target),1)]),a("div",Nt,[Yt,a("div",Gt,g(d.measures),1)]),a("div",Ht,[a("div",qt,g("KPI's Weightage(%)"),1),a("div",Jt,g(d.weightage)+"%",1)])]),_:2},1024)]),_:2},1024)]),_:2},1024)]))),128)):(v(),P("div",Qt," No records yet. "))]),_:1},512),[[Ce,x.value=="kpi"]]),Ve(i(C,{class:"mt-n3"},{default:u(()=>[a("div",Zt,[K.value?(v(),p(b,{key:0,onClick:o[4]||(o[4]=()=>z(x.value,"tech")),density:"compact",size:"35",class:"rounded-xl elevation-2 mr-2"},{default:u(()=>[i(E,{size:"small",icon:U(ge)},null,8,["icon"])]),_:1})):y("",!0),K.value?(v(),P("span",Xt,"Technical Skill")):y("",!0)]),a("div",el,[K.value?(v(),p(b,{key:0,onClick:o[5]||(o[5]=()=>z(x.value,"soft")),density:"compact",size:"35",class:"rounded-xl elevation-2 mr-2"},{default:u(()=>[i(E,{size:"small",icon:U(ge)},null,8,["icon"])]),_:1})):y("",!0),f(),K.value?(v(),P("span",tl,"Soft Skill")):y("",!0)]),a("div",ll,[i(C,null,{default:u(()=>[(v(!0),P(se,null,pe(ee.value,d=>(v(),P("div",{class:"v-col-12 pb-0",key:d.id},[i(q,{class:"rounded-lg"},{default:u(()=>[i(ie,null,{default:u(()=>[a("div",al,[!A.value&&O.value?(v(),p(b,{key:0,onClick:()=>ve(d,"ecd"),density:"compact",color:"primary",class:"rounded-xl elevation-2 ml-1 text-caption"},{default:u(()=>[f(" View"),i(E,{size:"small",icon:U(ye),class:"ml-1"},null,8,["icon"])]),_:2},1032,["onClick"])):y("",!0),A.value&&S.value.isFinal?(v(),p(b,{key:1,color:"secondary",class:"rounded-xl px-5",size:"small",onClick:()=>ce(d,"ecd")},{default:u(()=>[f(g(d.achievement_yearend?"Reviewed":"Review"),1)]),_:2},1032,["onClick"])):y("",!0),K.value?(v(),p(b,{key:2,onClick:()=>le(d,"ecd","tech"),density:"compact",color:"teal",class:"rounded-xl elevation-2 ml-1 text-caption"},{default:u(()=>[f("Edit"),i(E,{size:"small",class:"ml-1",icon:U(fe)},null,8,["icon"])]),_:2},1032,["onClick"])):y("",!0),K.value?(v(),p(b,{key:3,onClick:()=>me(d),density:"compact",color:"error",class:"rounded-xl elevation-2 ml-1 text-caption"},{default:u(()=>[f("Delete"),i(E,{size:"small",class:"ml-1",icon:U(_e)},null,8,["icon"])]),_:2},1032,["onClick"])):y("",!0)]),i(C,null,{default:u(()=>[a("div",il,[a("div",null,[sl,a("div",nl,g(d.title),1)])]),a("div",ul,[a("div",ol,g("KPI's Weightage(%)"),1),a("div",rl,g(d.weightage),1)]),a("div",dl,[vl,a("div",cl,g(d.ecd_type),1)])]),_:2},1024)]),_:2},1024)]),_:2},1024)]))),128))]),_:1})]),a("div",ml,[i(C,null,{default:u(()=>[(v(!0),P(se,null,pe(L.value,d=>(v(),P("div",{class:"v-col-12 pb-0",key:d.id},[i(q,{class:"rounded-lg"},{default:u(()=>[i(ie,null,{default:u(()=>[a("div",pl,[!A.value&&O.value?(v(),p(b,{key:0,onClick:()=>ve(d,"ecd"),density:"compact",color:"primary",class:"rounded-xl elevation-2 ml-1 text-caption"},{default:u(()=>[f(" View"),i(E,{size:"small",icon:U(ye),class:"ml-1"},null,8,["icon"])]),_:2},1032,["onClick"])):y("",!0),A.value&&S.value.isFinal?(v(),p(b,{key:1,color:"secondary",class:"rounded-xl px-5",size:"small",onClick:()=>ce(d,"ecd")},{default:u(()=>[f(g(d.achievement_yearend?"Reviewed":"Review"),1)]),_:2},1032,["onClick"])):y("",!0),K.value?(v(),p(b,{key:2,onClick:()=>le(d,"ecd","soft"),density:"compact",color:"teal",class:"rounded-xl elevation-2 ml-1 text-caption"},{default:u(()=>[f("Edit"),i(E,{size:"small",class:"ml-1",icon:U(fe)},null,8,["icon"])]),_:2},1032,["onClick"])):y("",!0),K.value?(v(),p(b,{key:3,onClick:()=>me(d),density:"compact",color:"error",class:"rounded-xl elevation-2 ml-1 text-caption"},{default:u(()=>[f("Delete"),i(E,{size:"small",class:"ml-1",icon:U(_e)},null,8,["icon"])]),_:2},1032,["onClick"])):y("",!0)]),i(C,null,{default:u(()=>[a("div",gl,[a("div",null,[yl,a("div",fl,g(d.title),1)])]),a("div",_l,[a("div",hl,g("KPI's Weightage(%)"),1),a("div",bl,g(d.weightage),1)]),a("div",xl,[wl,a("div",kl,g(d.ecd_type),1)])]),_:2},1024)]),_:2},1024)]),_:2},1024)]))),128))]),_:1})])]),_:1},512),[[Ce,x.value=="ecd"]])]),_:1})]),_:1})]),i(be,{modelValue:Z.value.dialog,"onUpdate:modelValue":o[7]||(o[7]=d=>Z.value.dialog=d),width:"100%","max-width":"480",persistent:""},{default:u(()=>[i(q,{class:"rounded-lg"},{default:u(()=>[i(ke,{class:"pa-3"},{default:u(()=>[f("Confirm Remove")]),_:1}),i(ie,{class:"px-3"},{default:u(()=>[a("div",Vl,[f(" Please confirm that you want to remove "),a("span",Cl,g("'"+Z.value.data.title.substring(0,35)+"...'"),1)]),a("div",Il,[i(b,{class:"bg-grey-lighten-2 text-primary",variant:"text",onClick:o[6]||(o[6]=d=>Z.value.dialog=!1)},{default:u(()=>[f("Cancel")]),_:1}),i(b,{color:"primary",class:"ml-2",onClick:$e},{default:u(()=>[f("Remove")]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"]),i(mt,{"created-kpi-title":s.value,"final-review":S.value,"measures-list":I.measuresList,"kpi-options":l.value,"remain-weightage":J(x.value),"industry-list":I.industryList,"submit-button":w.submitButton,onSavedResponse:we},null,8,["created-kpi-title","final-review","measures-list","kpi-options","remain-weightage","industry-list","submit-button"]),i(Vt,{"created-kpi-title":s.value,"final-review":S.value,"ecd-options":t.value,"remain-weightage":J(x.value),"ecd-list":I.ecdList,"submit-button":w.submitButton,onSavedResponse:we},null,8,["created-kpi-title","final-review","ecd-options","remain-weightage","ecd-list","submit-button"]),i(xe,{options:h.value},null,8,["options"])]),_:1}))}};export{Dl as _};
